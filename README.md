# USB-RELAY-X-RL26 サンプルコード

このリポジトリは、**USBリレーモジュール X-RL26** 用のサンプルコードをまとめたものです。  
X-RL26 は、USBシリアル通信を利用して26チャネル（A～Z）のリレーを制御できます。

## 製品情報

- **製品名**: USBリレーモジュール X-RL26
- **販売リンク**: https://www.amazon.co.jp/dp/B0FNMPBSCH


## 概要
※商品や仕様の詳細は説明書を参照ください。

### リレー制御コマンド
テキスト形式のコマンドをシリアル通信で送信することでリレーを操作します。
例:
- `A1` を送信 → チャネル A をオンに
- `A0` を送信 → チャネル A をオフに

チャネル B～Z も同様の操作が可能です。

### デバイス情報取得コマンド
`?` を送信することで、デバイス情報を返します。
デバイス情報の例:
```
Product: X-RL26
Version: 1.0.0
UID: 9948ec53
Supply Voltage (Relay Coil): 5.0V
```

## ディレクトリ構成
<pre>
USB-RELAY-X-RL26/
├── cmd/      - Windowsバッチ（コマンドプロンプト）用サンプルコード
├── python/   - Python (pySerial) を利用したサンプルコード
├── html/     - Web Serial API を利用した HTML/JavaScript サンプル
└── 説明書/    - 製品の説明書
</pre>


## 各サンプルの説明

### cmd

- **ファイル**: `cmd/sample.cmd`
- **説明**:  
  Windows のコマンドプロンプトから、指定の COM ポートへテキストコマンドを送信するバッチファイルです。  
  デフォルトでは、`COM10` を利用しています。環境に合わせてプログラム内の番号を変更してください。
- **動作例**:
  各リレー（A～Z）のオン／オフコマンドを順に送信し、各コマンド送信後に 1 秒待機します。

### python

- **ファイル**: `python/sample.py`
- **説明**:  
  [pySerial](https://pypi.org/project/pyserial/) を利用して、USBリレーを制御する Python スクリプトです。  
  各リレー（A～Z）のオン／オフコマンドを 1 秒間隔で送信します。
- **動作手順**:  
  1. `pip install pyserial` で pySerial をインストール  
  2. スクリプト内の COM ポート（デフォルトは `COM10`）を環境に合わせて変更  
  3. スクリプトを実行

### html

- **ファイル**: `html/sample.html`
- **説明**:  
  Web Serial API を利用して、ブラウザ上からリレー制御を行うサンプルです。  
  ボタンをクリックすることで、各リレーのオン／オフコマンド（A1～Z1 および A0～Z0）を送信できます。

  [Web サンプルを試す](https://xyz-product.github.io/USB-RELAY-X-RL26/)
- **動作環境**:  
  Chromium 系ブラウザ（Chrome、Edge など）で動作させる必要があります。

## 使用方法

1. **サンプルの選択**  
   利用環境に合わせて以下のサンプルから選んでください。  
   - Windows のコマンドプロンプトを使用する場合は `cmd/sample.cmd`
   - Python を利用する場合は `python/sample.py`
   - Web ブラウザを利用する場合は `html/sample.html`
2. **COMポートの設定**  
   すべてのサンプルで、デフォルトの COM ポートは `COM10`になっています。 
   お使いの環境に合わせて、各ファイル内の COM ポート設定を変更してください。
3. **サンプルコードの実行**  
   各サンプルコードを動作させ、リレーの動作を確認してください。
